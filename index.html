<!DOCTYPE html>
<html>
<title>Register</title>
<body>

<h1>Register</h1>
<p>chatger</p>
<form id="register">
    <input type="text" name="activation" placeholder="activation code" required/><br/>
    <input type="text" name="username" placeholder="username" required/><br/>
    <input type="password" name="password" placeholder="password" required/><br/>
    <button type="submit">Submit</button>
</form>
<script>
  document.getElementById('register').addEventListener('submit', async (form) => {
      form.preventDefault();

      const formData = new FormData(form.target);
      const data = {
          activation: formData.get('activation'),
          username: formData.get('username'),
          password: formData.get('password')
      };

      try {
          const response = await fetch('http://127.0.0.1:8231/register', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json'
              },
              body: JSON.stringify(data)
          });

          const result = await response.json();
          console.log(result);
          if (response.ok) {
              console.log('Login successful!');
          } else {
              console.error('Login failed: ' + result.error);
          }
      } catch (err) {
          console.error('Error:', err);
      }
  });
</script>

</body>
</html> 